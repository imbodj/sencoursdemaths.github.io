import{_ as R}from"./K3EbNIeu.js";import{_ as z,u as S}from"./Bv0MNOYE.js";import{_ as L}from"./D0M_WwPD.js";import{d as O,h as P,i as d,w as b,u as Q,c as o,a as e,b as _,e as h,j as r,k as v,l as C,o as s,m as $,t as F,_ as H}from"./DysSUezV.js";import{_ as T}from"./t0BK2Pzt.js";import{_ as G}from"./DmKocrEy.js";import{_ as I}from"./kdYwQgtY.js";import{n as U}from"./DMwKI6Pt.js";import"./BvClFSmD.js";import"./Dro85y1l.js";const J={key:0},K={key:1},M={key:0},W={key:1,class:"mb-0"},X=["textContent"],Y={key:2,class:"mt-4"},Z={key:0,class:"mb-0"},ee={key:3,class:"mt-4"},te={key:0,class:"mb-0"},se={key:4,class:"mt-4"},ne={key:0,class:"mb-0"},oe={key:2},ve=O({__name:"recherche",async setup(re){var V;let n,a;const m=(V=P().query.requete)==null?void 0:V.toString(),w=d(()=>m?U(m):".*"),{status:j,data:q}=([n,a]=b(()=>S("/_api/latex/lecons/index.json","$mCpmiEIoUo")),n=await n,a(),n),{status:A,data:B}=([n,a]=b(()=>S("/_api/latex/developpements/index.json","$gszzv3HPqk")),n=await n,a(),n),{status:D,data:E}=([n,a]=b(()=>S("/_api/latex/fiches/index.json","$OnOGsp1LDs")),n=await n,a(),n),y=g=>{const t=[];if(!g.value)return t;for(const k of g.value){const x=RegExp(w.value,"ig"),c=k;x.test(c["page-name-search"])&&t.push(c)}return t},l=d(()=>y(q)),i=d(()=>y(B)),u=d(()=>y(E)),f=d(()=>l.value.length===0&&i.value.length===0&&u.value.length===0);return Q({title:"Recherche"}),(g,t)=>{const k=R,x=z,c=L,N=H;return s(),o("div",null,[e(j)==="pending"||e(A)==="pending"||e(D)==="pending"?(s(),o("div",J,[_(k)])):e(l)&&e(i)&&e(u)?(s(),o("div",K,[t[5]||(t[5]=h("h2",null,"Recherche",-1)),e(f)?(s(),o("p",M," Votre recherche n'a donné aucun résultat. ")):(s(),o("p",W,[_(x,{fallback:"Voici les résultats pour votre recherche."},{default:v(()=>[t[0]||(t[0]=$(" Voici les résultats pour votre recherche de ",-1)),h("q",{textContent:F(e(m)&&e(m).length>0?e(m):"Tout")},null,8,X),t[1]||(t[1]=$(". ",-1))]),_:1,__:[0,1]})])),e(l)&&!e(f)?(s(),o("div",Y,[t[2]||(t[2]=h("h3",null,"Leçons",-1)),e(l).length===0?(s(),o("p",Z," Aucun plan de leçon trouvé pour cette recherche. ")):r("",!0),e(l).length>0?(s(),C(c,{key:1,"input-id":"lesson-search-field",items:e(l)},{default:v(p=>[_(T,{lesson:p.item},null,8,["lesson"])]),_:1},8,["items"])):r("",!0)])):r("",!0),e(i)&&!e(f)?(s(),o("div",ee,[t[3]||(t[3]=h("h3",null,"Développements",-1)),e(i).length===0?(s(),o("p",te," Aucun développement trouvé pour cette recherche. ")):r("",!0),e(i).length>0?(s(),C(c,{key:1,"input-id":"development-search-field",items:e(i)},{default:v(p=>[_(G,{development:p.item},null,8,["development"])]),_:1},8,["items"])):r("",!0)])):r("",!0),e(u)&&!e(f)?(s(),o("div",se,[t[4]||(t[4]=h("h3",null,"Fiches",-1)),e(u).length===0?(s(),o("p",ne," Aucune fiche trouvée pour cette recherche. ")):r("",!0),e(u).length>0?(s(),C(c,{key:1,"input-id":"sheet-search-field",items:e(u)},{default:v(p=>[_(I,{sheet:p.item},null,8,["sheet"])]),_:1},8,["items"])):r("",!0)])):r("",!0)])):(s(),o("div",oe,[_(N,{error:"500"})]))])}}});export{ve as default};
